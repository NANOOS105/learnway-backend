<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>LearnWay</title>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script><!-- jquery 는 항상 위에둘것 -->
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script><!-- 부트스트랩 js -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"><!-- 부트스트랩 css -->
   
    </head>
    <body>
    <!-- SideBar 불러오는부분 -->
    <div th:replace="sidebar :: sidebar"></div>

    <!-- 메인 컨텐츠 이 div 안을 body라고 생각하고 쓰면 됩니다 -->
    <div class="main__content">
        <!-- 이곳에 작업합시다  -->
        <div class="notice-container">
	        <form action="/noticeWrite" method="post" enctype="multipart/form-data">
	            <div class="form-group">
	                <label for="title">제목</label>
	                <input type="text" class="form-control" id="title" name="title" required>
	            </div>
	            <div class="form-group">
	                <label for="content">내용</label>
	                <textarea class="form-control" id="content" name="content" rows="10" required></textarea>
	            </div>
	            <div class="form-group">
	                <label for="comFile">첨부 파일</label>
	                <input type="file" class="form-control-file" id="comFile" name="comFile" multiple>
	            </div>
	            <div class="form-group">
	                <label>이미지 미리보기</label>
	                <div id="imagePreview"></div>
	            </div>
	            <div class="text-right">
	                <button type="submit" class="btn btn-write">글쓰기</button>
	            </div>
	        </form>	
        </div>
    </div>
    <script>
 // 이미지 미리보기 기능을 위한 JavaScript 코드
    $(document).ready(function() {
        $('#comFile').on('change', function() {
            var files = $(this)[0].files;
            var preview = $('#imagePreview');
            preview.empty();

            for (var i = 0; i < files.length; i++) {
                var file = files[i];
                var reader = new FileReader();

                reader.onload = function(e) {
                    var img = $('<img>').attr('src', e.target.result).addClass('img-thumbnail');
                    preview.append(img);
                };

                reader.readAsDataURL(file);
            }
        });
    });
    </script>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.5.1/sockjs.min.js"></script><!-- 사이드바 상담관련 -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script><!-- 사이드바 상담관련 -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script><!-- 툴팁(tooltips)과 팝오버(popovers) 같은 UI 요소를 쉽게 관리 -->
<script src="/js/consult/consultationReservation.js"></script><!-- 상담예약 javascript -->
<script src="/js/consult/reservationList.js"></script><!-- 예약리스트 javascript -->
<script src="/js/notice/noticeWriteView.js"></script><!-- 스케쥴러 javascript -->
</html>