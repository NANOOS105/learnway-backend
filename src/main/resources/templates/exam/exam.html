<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LearnWay</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script><!-- jquery 는 항상 위에둘것 -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script><!-- 부트스트랩 js -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"><!-- 부트스트랩 css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"> <!-- 이모티콘 -->
    <link rel="stylesheet" href="/css/exam/exam.css" type="text/css"/>
</head>
<body id="exam-root">
<!-- SideBar 불러오는부분 -->
<div th:replace="sidebar :: sidebar"></div>

<!-- 메인 컨텐츠 이 div 안을 body라고 생각하고 쓰면 됩니다 -->
<div class="main__content">
    <!-- 이곳에 작업합시다  -->
    <div class="main__content__title">
        <span>성적 입력</span>
    </div>
    <div class="exam__container" id="exam__container-root">
        <div class="exam__container__btn-container">
            <button class="exam__btn-delete learnway-btn clickable btn">삭제</button>
            <button class="exam__btn-register learnway-btn clickable btn">등록</button>
        </div>
        <div class="exam__item__label bg-light p-2 rounded mb-3 ">
            <div class="exam__item__label-box d-flex justify-content-between">
                <div class="exam__item__type">
                    <span>시험 유형</span>
                </div>
                <div class="exam__item__name">
                    <span>시험 이름</span>
                </div>
                <div class="exam__item__date">
                    <span>시험 날짜</span>
                </div>
            </div>
            <div class="exam__item__label-space"></div>
        </div>
        <div class="exam__item clickable" th:each="item : ${examList.content}">
            <a class="exam__item__info-box" th:href="@{/exam/detail/{id}(id=${item.examId})}">
                <div class="exam__item__type">
                    <span th:text="${item.examType.examTypeName}"></span>
                </div>
                <div class="exam__item__name">
                    <span th:text="${item.examName}"></span>
                </div>
                <div class="exam__item__date">
                    <span th:text="${item.examDate}"></span>
                </div>
            </a>
            <form class="exam__item__delete-btn-container" th:action="@{/exam/delete}" method="post">
                <input type="hidden" name="examId" th:value="${item.examId}" required/>
                <button class="hidden exam__item__delete-btn clickable" type="submit">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                        <path d="M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"/>
                    </svg>
                </button>
            </form>
        </div>
        <!-- 페이지네이션 -->
        <div class="pagination">
            <span th:if="${examList.hasPrevious()}">
                <a th:href="@{/exam/list/{pageNo}(pageNo=${examList.previousPageable().pageNumber+1})}" class="page-link">Previous</a>
            </span>
            <span th:each="i : ${#numbers.sequence(1, examList.totalPages)}">
                <a th:href="@{/exam/list/{pageNo}(pageNo=${i})}" th:class="${examList.number == i} ? 'active' : ''" class="page-link" th:text="${i}"></a>
            </span>
            <span th:if="${examList.hasNext()}">
                <a th:href="@{/exam/list/{pageNo}(pageNo=${examList.nextPageable().pageNumber+1})}" class="page-link">Next</a>
            </span>
        </div>
    </div>

    <!-- 부트스트랩 모달 예시 -->
    <!-- 트리거가 되는 버튼 (여기서는 data-target="#exampleModal를 지정했지만 JS 함수를 사용해도 됨 -->
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#ModalTest">부트스트랩 떼슷</button>
    <!-- 부트스트랩 모달창에 사용될 부분으로 부트스트랩 클래스 적용된 예시임당 -->
    <div class="modal fade" id="ModalTest" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header"><!-- 헤더 영역 제목, 닫기 -->
                    <h5 class="modal-title" id="exampleModalLabel">시험등록</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span> <!-- &times; : X 버튼(닫기) -->
                    </button>
                </div>
                <div class="modal-body"> <!--바디 영역 (주 내용) -->
                    <form>
                        <div class="form-group">
                            <label for="examName">시험이름</label>
                            <input type="text" class="form-control" id="examName" placeholder="시험 이름을 입력하세요">
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="examType">시험 종류</label>
                                <select class="form-control" id="examType">
                                    <option selected>종류를 선택하세요</option>
                                    <option value="midterm">중간고사</option>
                                    <option value="final">기말고사</option>
                                    <option value="quiz">퀴즈</option>
                                </select>
                            </div>
                            <div class="form-group col-md-6">
                                <label for="examDate">날짜</label>
                                <input type="date" class="form-control" id="examDate">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="examScope">범위</label>
                            <input type="text" class="form-control" id="examScope" placeholder="범위를 입력하세요">
                        </div>
                        <div class="form-group">
                            <label for="examMemo">메모</label>
                            <textarea class="form-control" id="examMemo" rows="3" placeholder="메모를 입력하세요"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">취소</button>
                    <button type="button" class="btn btn-primary">등록</button>
                </div>
            </div>
        </div>
    </div>
    <!-- 부랩 모달 예시 ..! -->
</div>
<!-- 찐 모달 -->
<div class="exam__modal-register hidden">
    <div class="exam__modal__overlay clickable"></div>
    <form action="/exam/register" class="exam__modal__form" method="post">
        <div class="exam__modal__form-title modal-content   ">
            <span class="modal-title modal-header">시험 등록</span>
        </div>
        <div class="exam__modal__name">
            <label for="exam__modal__form-name">시험 이름</label>
            <input type="text" id="exam__modal__form-name" name="examName" required/>
        </div>
        <div class="exam__modal__type-date">
            <div class="exam__modal__type">
                <label for="exam__modal__form-type">시험 종류</label>
                <label>
                    <select name="examTypeName" id="exam__modal__form-type">
                        <option th:each="item:${examTypes}" th:text="${item.getExamTypeName()}" th:value="${item.getExamTypeName()}"></option>
                    </select>
                </label>
            </div>
            <div class="exam__modal__date">
                <label for="exam__modal__form-date">날짜</label>
                <input type="date" id="exam__modal__form-date" name="examDate" required/>
            </div>
        </div>
        <div class="exam__modal__range">
            <label for="exam__modal__form-range">범위</label>
            <input type="text" id="exam__modal__form-range" name="examRange" required/>
        </div>
        <div class="exam__modal__memo">
            <label for="exam__modal__form-memo">메모</label>
            <input type="text" id="exam__modal__form-memo" name="examMemo"  />
        </div>
        <div class="exam__modal__btn-box modal-footer">
            <button class="exam__modal__form-btn learnway-btn clickable btn btn-outline-secondary">등록</button>
        </div>
    </form>
</div>

</body>
<script src="/js/exam/exam.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.5.1/sockjs.min.js"></script><!-- 사이드바 상담관련 -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script><!-- 사이드바 상담관련 -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script><!-- 툴팁(tooltips)과 팝오버(popovers) 같은 UI 요소를 쉽게 관리 -->
<script src="/js/consult/consultationReservation.js"></script><!-- 상담예약 javascript -->
<script src="/js/consult/reservationList.js"></script><!-- 예약리스트 javascript -->
<script src="/js/icon.js"></script><!-- icon javascript -->
</html>